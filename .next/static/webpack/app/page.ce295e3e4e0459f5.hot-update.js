"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/EncryptedImage.tsx":
/*!***************************************!*\
  !*** ./components/EncryptedImage.tsx ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EncryptedImage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_crypto_parse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/crypto/parse */ \"(app-pages-browser)/./lib/crypto/parse.ts\");\n/* harmony import */ var _lib_crypto_decrypt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/crypto/decrypt */ \"(app-pages-browser)/./lib/crypto/decrypt.ts\");\n/* harmony import */ var _lib_image_render__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/image/render */ \"(app-pages-browser)/./lib/image/render.ts\");\n/* harmony import */ var _lib_cache_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/cache/store */ \"(app-pages-browser)/./lib/cache/store.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction EncryptedImage(param) {\n    let { contentId, baseUrl, aesKey, className = \"\", alt = \"\", onLoad, onError, useCache = true } = param;\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EncryptedImage.useEffect\": ()=>{\n            let mounted = true;\n            let abortController = new AbortController();\n            let processingRef = {\n                current: false\n            };\n            const loadImage = {\n                \"EncryptedImage.useEffect.loadImage\": async ()=>{\n                    if (!canvasRef.current) return;\n                    // 이전 처리 중인 작업이 있다면 취소하고 새로 시작\n                    if (processingRef.current) {\n                        console.log('🔄 이전 작업 취소 후 새 작업 시작');\n                        abortController.abort();\n                        abortController = new AbortController();\n                    }\n                    processingRef.current = true;\n                    try {\n                        setLoading(true);\n                        setError(\"\");\n                        // Demo: 암호화 이미지가 없는 경우 플레이스홀더 표시\n                        if (contentId === \"sample\" || contentId === \"placeholder\") {\n                            // Canvas에 플레이스홀더 텍스트 렌더링\n                            const canvas = canvasRef.current;\n                            if (canvas) {\n                                const ctx = canvas.getContext(\"2d\");\n                                if (ctx) {\n                                    canvas.width = 500;\n                                    canvas.height = 350;\n                                    // 배경\n                                    ctx.fillStyle = \"#f9fafd\";\n                                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                                    // 테두리\n                                    ctx.strokeStyle = \"#e5e7eb\";\n                                    ctx.lineWidth = 2;\n                                    ctx.strokeRect(1, 1, canvas.width - 2, canvas.height - 2);\n                                    // 제목\n                                    ctx.fillStyle = \"#1f2937\";\n                                    ctx.font = \"bold 20px system-ui, -apple-system, sans-serif\";\n                                    ctx.textAlign = \"center\";\n                                    ctx.textBaseline = \"middle\";\n                                    ctx.fillText(\"🔒 AES-GCM-256 암호화 이미지\", canvas.width / 2, canvas.height / 2 - 50);\n                                    // 설명\n                                    ctx.fillStyle = \"#6b7280\";\n                                    ctx.font = \"14px system-ui, -apple-system, sans-serif\";\n                                    ctx.fillText(\"Canvas API + 복호화 렌더링 시뮬레이션\", canvas.width / 2, canvas.height / 2 - 10);\n                                    ctx.fillText(\"(데모용 - 실제 암호화 파일 없음)\", canvas.width / 2, canvas.height / 2 + 15);\n                                    // 안내문\n                                    ctx.fillStyle = \"#059669\";\n                                    ctx.font = \"bold 12px system-ui, -apple-system, sans-serif\";\n                                    ctx.fillText('💡 실제 암호화된 파일을 보려면 \"encrypted-demo.aeiw\"를 선택하세요', canvas.width / 2, canvas.height / 2 + 45);\n                                }\n                            }\n                            if (mounted) {\n                                setLoading(false);\n                                onLoad === null || onLoad === void 0 ? void 0 : onLoad();\n                            }\n                            return;\n                        }\n                        // contentId가 실제 암호화 파일인지 확인 (간단한 체크)\n                        let imageUrl;\n                        if (contentId.includes(\"aeia\") || contentId.includes(\"aeiw\")) {\n                            // 이미 .aeia/.aeiw 확장자가 포함된 경우 그대로 사용\n                            imageUrl = contentId.startsWith(\"/\") ? contentId : \"/\".concat(contentId);\n                        } else {\n                            // contentId가 파일명만 있는 경우 확장자 추가\n                            const hasExtension = contentId.includes(\".\");\n                            if (hasExtension) {\n                                imageUrl = contentId.startsWith(\"/\") ? contentId : \"/\".concat(contentId);\n                            } else {\n                                // 확장자가 없으면 .aeiw 추가 (기본값)\n                                imageUrl = \"/\".concat(contentId, \".aeiw\");\n                            }\n                        }\n                        console.log(\"\\uD83D\\uDD0D 암호화 이미지 로드 시도:\", {\n                            contentId,\n                            baseUrl,\n                            imageUrl,\n                            useCache\n                        });\n                        let blob = null;\n                        // 캐시에서 먼저 시도\n                        if (useCache) {\n                            blob = await (0,_lib_cache_store__WEBPACK_IMPORTED_MODULE_5__.getEncryptedImage)(imageUrl);\n                        }\n                        // 캐시에 없으면 네트워크에서 가져오기\n                        if (!blob) {\n                            const response = await fetch(imageUrl, {\n                                signal: abortController.signal\n                            });\n                            if (!response.ok) {\n                                throw new Error(\"암호화된 이미지 로드 실패: \".concat(response.status, \" \").concat(response.statusText));\n                            }\n                            blob = await response.blob();\n                            // 캐시에 저장\n                            if (useCache) {\n                                await (0,_lib_cache_store__WEBPACK_IMPORTED_MODULE_5__.putEncryptedImage)(imageUrl, blob);\n                            }\n                        }\n                        if (!mounted) return;\n                        // 암호화된 이미지 처리\n                        await processEncryptedImage(blob);\n                        if (mounted) {\n                            setLoading(false);\n                            onLoad === null || onLoad === void 0 ? void 0 : onLoad();\n                            // 복호화 성공 메시지 추가\n                            if (contentId.includes(\"encrypted-demo\")) {\n                                console.log(\"🎉 암호화된 데모 이미지 복호화 완료!\");\n                                console.log(\"📊 브라우저 개발자 도구에서 복호화 과정을 확인할 수 있습니다.\");\n                            }\n                        }\n                    } catch (err) {\n                        if (mounted && !abortController.signal.aborted) {\n                            const errorMessage = err instanceof Error && err.name === 'AbortError' ? \"요청이 취소되었습니다\" : err instanceof Error ? err.message : \"암호화된 이미지 로드 중 오류가 발생했습니다.\";\n                            console.warn('❌ EncryptedImage 로드 실패:', errorMessage);\n                            setError(errorMessage);\n                            setLoading(false);\n                            // AbortError가 아닌 경우만 상위로 에러 전파\n                            if (!(err instanceof Error && err.name === 'AbortError')) {\n                                onError === null || onError === void 0 ? void 0 : onError(errorMessage);\n                            }\n                        }\n                    } finally{\n                        processingRef.current = false;\n                    }\n                }\n            }[\"EncryptedImage.useEffect.loadImage\"];\n            const processEncryptedImage = {\n                \"EncryptedImage.useEffect.processEncryptedImage\": async (blob)=>{\n                    const canvas = canvasRef.current;\n                    if (!canvas) return;\n                    // Blob을 ArrayBuffer로 변환\n                    const arrayBuffer = await blob.arrayBuffer();\n                    const bytes = new Uint8Array(arrayBuffer);\n                    // 파일 파싱 (파일명 전달)\n                    const parsed = (0,_lib_crypto_parse__WEBPACK_IMPORTED_MODULE_2__.parseAe)(bytes, contentId);\n                    // 헤드 부분 복호화 (1MB)\n                    const decryptedHead = await (0,_lib_crypto_decrypt__WEBPACK_IMPORTED_MODULE_3__.decryptHeadAESGCM)(aesKey, parsed.iv, parsed.cipher, parsed.tag);\n                    // 복호화된 헤드 + tail 재조립\n                    const fullImage = new Uint8Array(decryptedHead.length + parsed.tail.length);\n                    fullImage.set(decryptedHead, 0);\n                    fullImage.set(parsed.tail, decryptedHead.length);\n                    // Canvas에 렌더링 (개선된 방식)\n                    await (0,_lib_image_render__WEBPACK_IMPORTED_MODULE_4__.renderToCanvas)(canvas, fullImage, parsed.format);\n                }\n            }[\"EncryptedImage.useEffect.processEncryptedImage\"];\n            // 약간의 디바운싱과 초기 상태 설정\n            setLoading(true);\n            setError(\"\");\n            const timeoutId = setTimeout(loadImage, 100);\n            return ({\n                \"EncryptedImage.useEffect\": ()=>{\n                    mounted = false;\n                    abortController.abort();\n                    clearTimeout(timeoutId);\n                    processingRef.current = false;\n                    console.log('🧹 EncryptedImage 클린업 완료');\n                }\n            })[\"EncryptedImage.useEffect\"];\n        }\n    }[\"EncryptedImage.useEffect\"], [\n        contentId,\n        baseUrl,\n        aesKey,\n        useCache,\n        onLoad,\n        onError\n    ]);\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center bg-gray-200 text-gray-500 \".concat(className),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-sm\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/dasollee/Downloads/GitAladin/FE_ImageServiceRequirements/components/EncryptedImage.tsx\",\n                lineNumber: 255,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/dasollee/Downloads/GitAladin/FE_ImageServiceRequirements/components/EncryptedImage.tsx\",\n            lineNumber: 252,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative \".concat(className),\n        style: {\n            width: \"100%\",\n            height: \"100%\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\"\n        },\n        children: [\n            loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center bg-gray-100 rounded\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n                }, void 0, false, {\n                    fileName: \"/Users/dasollee/Downloads/GitAladin/FE_ImageServiceRequirements/components/EncryptedImage.tsx\",\n                    lineNumber: 273,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/dasollee/Downloads/GitAladin/FE_ImageServiceRequirements/components/EncryptedImage.tsx\",\n                lineNumber: 272,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                style: {\n                    display: loading ? \"none\" : \"block\",\n                    maxWidth: \"100%\",\n                    maxHeight: \"100%\",\n                    width: \"auto\",\n                    height: \"auto\",\n                    objectFit: \"contain\",\n                    borderRadius: \"8px\"\n                },\n                \"aria-label\": alt\n            }, void 0, false, {\n                fileName: \"/Users/dasollee/Downloads/GitAladin/FE_ImageServiceRequirements/components/EncryptedImage.tsx\",\n                lineNumber: 276,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/dasollee/Downloads/GitAladin/FE_ImageServiceRequirements/components/EncryptedImage.tsx\",\n        lineNumber: 261,\n        columnNumber: 5\n    }, this);\n}\n_s(EncryptedImage, \"LEvUgE/Url3PQlIGmraHow/VGAM=\");\n_c = EncryptedImage;\nvar _c;\n$RefreshReg$(_c, \"EncryptedImage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvRW5jcnlwdGVkSW1hZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFb0Q7QUFDUDtBQUNZO0FBQ0w7QUFDcUI7QUFhMUQsU0FBU1EsZUFBZSxLQVNqQjtRQVRpQixFQUNyQ0MsU0FBUyxFQUNUQyxPQUFPLEVBQ1BDLE1BQU0sRUFDTkMsWUFBWSxFQUFFLEVBQ2RDLE1BQU0sRUFBRSxFQUNSQyxNQUFNLEVBQ05DLE9BQU8sRUFDUEMsV0FBVyxJQUFJLEVBQ0ssR0FUaUI7O0lBVXJDLE1BQU1DLFlBQVloQiw2Q0FBTUEsQ0FBb0I7SUFDNUMsTUFBTSxDQUFDaUIsU0FBU0MsV0FBVyxHQUFHakIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDa0IsT0FBT0MsU0FBUyxHQUFHbkIsK0NBQVFBLENBQVM7SUFFM0NGLGdEQUFTQTtvQ0FBQztZQUNSLElBQUlzQixVQUFVO1lBQ2QsSUFBSUMsa0JBQWtCLElBQUlDO1lBQzFCLElBQUlDLGdCQUFnQjtnQkFBRUMsU0FBUztZQUFNO1lBRXJDLE1BQU1DO3NEQUFZO29CQUNoQixJQUFJLENBQUNWLFVBQVVTLE9BQU8sRUFBRTtvQkFFeEIsOEJBQThCO29CQUM5QixJQUFJRCxjQUFjQyxPQUFPLEVBQUU7d0JBQ3pCRSxRQUFRQyxHQUFHLENBQUM7d0JBQ1pOLGdCQUFnQk8sS0FBSzt3QkFDckJQLGtCQUFrQixJQUFJQztvQkFDeEI7b0JBRUFDLGNBQWNDLE9BQU8sR0FBRztvQkFFeEIsSUFBSTt3QkFDRlAsV0FBVzt3QkFDWEUsU0FBUzt3QkFFVCxpQ0FBaUM7d0JBQ2pDLElBQUlaLGNBQWMsWUFBWUEsY0FBYyxlQUFlOzRCQUN6RCx5QkFBeUI7NEJBQ3pCLE1BQU1zQixTQUFTZCxVQUFVUyxPQUFPOzRCQUNoQyxJQUFJSyxRQUFRO2dDQUNWLE1BQU1DLE1BQU1ELE9BQU9FLFVBQVUsQ0FBQztnQ0FDOUIsSUFBSUQsS0FBSztvQ0FDUEQsT0FBT0csS0FB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R0EvUXdCTDtLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL2Rhc29sbGVlL0Rvd25sb2Fkcy9HaXRBbGFkaW4vRkVfSW1hZ2VTZXJ2aWNlUmVxdWlyZW1lbnRzL2NvbXBvbmVudHMvRW5jcnlwdGVkSW1hZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHBhcnNlQWUgfSBmcm9tIFwiQC9saWIvY3J5cHRvL3BhcnNlXCI7XG5pbXBvcnQgeyBkZWNyeXB0SGVhZEFFU0dDTSB9IGZyb20gXCJAL2xpYi9jcnlwdG8vZGVjcnlwdFwiO1xuaW1wb3J0IHsgcmVuZGVyVG9DYW52YXMgfSBmcm9tIFwiQC9saWIvaW1hZ2UvcmVuZGVyXCI7XG5pbXBvcnQgeyBnZXRFbmNyeXB0ZWRJbWFnZSwgcHV0RW5jcnlwdGVkSW1hZ2UgfSBmcm9tIFwiQC9saWIvY2FjaGUvc3RvcmVcIjtcblxuaW50ZXJmYWNlIEVuY3J5cHRlZEltYWdlUHJvcHMge1xuICBjb250ZW50SWQ6IHN0cmluZztcbiAgYmFzZVVybDogc3RyaW5nO1xuICBhZXNLZXk6IHN0cmluZztcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBhbHQ/OiBzdHJpbmc7XG4gIG9uTG9hZD86ICgpID0+IHZvaWQ7XG4gIG9uRXJyb3I/OiAoZXJyb3I6IHN0cmluZykgPT4gdm9pZDtcbiAgdXNlQ2FjaGU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFbmNyeXB0ZWRJbWFnZSh7XG4gIGNvbnRlbnRJZCxcbiAgYmFzZVVybCxcbiAgYWVzS2V5LFxuICBjbGFzc05hbWUgPSBcIlwiLFxuICBhbHQgPSBcIlwiLFxuICBvbkxvYWQsXG4gIG9uRXJyb3IsXG4gIHVzZUNhY2hlID0gdHJ1ZSxcbn06IEVuY3J5cHRlZEltYWdlUHJvcHMpIHtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcbiAgICBsZXQgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCBwcm9jZXNzaW5nUmVmID0geyBjdXJyZW50OiBmYWxzZSB9O1xuXG4gICAgY29uc3QgbG9hZEltYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgXG4gICAgICAvLyDsnbTsoIQg7LKY66asIOykkeyduCDsnpHsl4XsnbQg7J6I64uk66m0IOy3qOyGjO2VmOqzoCDsg4jroZwg7Iuc7J6RXG4gICAgICBpZiAocHJvY2Vzc2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIOydtOyghCDsnpHsl4Ug7Leo7IaMIO2bhCDsg4gg7J6R7JeFIOyLnOyekScpO1xuICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBwcm9jZXNzaW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuXG4gICAgICB0cnkge1xuICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBzZXRFcnJvcihcIlwiKTtcblxuICAgICAgICAvLyBEZW1vOiDslZTtmLjtmZQg7J2066+47KeA6rCAIOyXhuuKlCDqsr3smrAg7ZSM66CI7J207Iqk7ZmA642UIO2RnOyLnFxuICAgICAgICBpZiAoY29udGVudElkID09PSBcInNhbXBsZVwiIHx8IGNvbnRlbnRJZCA9PT0gXCJwbGFjZWhvbGRlclwiKSB7XG4gICAgICAgICAgLy8gQ2FudmFz7JeQIO2UjOugiOydtOyKpO2ZgOuNlCDthY3siqTtirgg66CM642U66eBXG4gICAgICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgaWYgKGNhbnZhcykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgIGlmIChjdHgpIHtcbiAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gNTAwO1xuICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMzUwO1xuXG4gICAgICAgICAgICAgIC8vIOuwsOqyvVxuICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjZjlmYWZkXCI7XG4gICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgICAgICAgIC8vIO2FjOuRkOumrFxuICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiNlNWU3ZWJcIjtcbiAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KDEsIDEsIGNhbnZhcy53aWR0aCAtIDIsIGNhbnZhcy5oZWlnaHQgLSAyKTtcblxuICAgICAgICAgICAgICAvLyDsoJzrqqlcbiAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiIzFmMjkzN1wiO1xuICAgICAgICAgICAgICBjdHguZm9udCA9IFwiYm9sZCAyMHB4IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgc2Fucy1zZXJpZlwiO1xuICAgICAgICAgICAgICBjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG4gICAgICAgICAgICAgIGN0eC5maWxsVGV4dChcbiAgICAgICAgICAgICAgICBcIvCflJIgQUVTLUdDTS0yNTYg7JWU7Zi47ZmUIOydtOuvuOyngFwiLFxuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCAvIDIgLSA1MFxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIC8vIOyEpOuqhVxuICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjNmI3MjgwXCI7XG4gICAgICAgICAgICAgIGN0eC5mb250ID0gXCIxNHB4IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgc2Fucy1zZXJpZlwiO1xuICAgICAgICAgICAgICBjdHguZmlsbFRleHQoXG4gICAgICAgICAgICAgICAgXCJDYW52YXMgQVBJICsg67O17Zi47ZmUIOugjOuNlOungSDsi5zrrqzroIjsnbTshZhcIixcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgLyAyIC0gMTBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KFxuICAgICAgICAgICAgICAgIFwiKOuNsOuqqOyaqSAtIOyLpOygnCDslZTtmLjtmZQg7YyM7J28IOyXhuydjClcIixcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgLyAyICsgMTVcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAvLyDslYjrgrTrrLhcbiAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiIzA1OTY2OVwiO1xuICAgICAgICAgICAgICBjdHguZm9udCA9IFwiYm9sZCAxMnB4IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgc2Fucy1zZXJpZlwiO1xuICAgICAgICAgICAgICBjdHguZmlsbFRleHQoXG4gICAgICAgICAgICAgICAgJ/CfkqEg7Iuk7KCcIOyVlO2YuO2ZlOuQnCDtjIzsnbzsnYQg67O066Ck66m0IFwiZW5jcnlwdGVkLWRlbW8uYWVpd1wi66W8IOyEoO2Dne2VmOyEuOyalCcsXG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoIC8gMixcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0IC8gMiArIDQ1XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG1vdW50ZWQpIHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgb25Mb2FkPy4oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29udGVudElk6rCAIOyLpOygnCDslZTtmLjtmZQg7YyM7J287J247KeAIO2ZleyduCAo6rCE64uo7ZWcIOyytO2BrClcbiAgICAgICAgbGV0IGltYWdlVXJsOiBzdHJpbmc7XG4gICAgICAgIGlmIChjb250ZW50SWQuaW5jbHVkZXMoXCJhZWlhXCIpIHx8IGNvbnRlbnRJZC5pbmNsdWRlcyhcImFlaXdcIikpIHtcbiAgICAgICAgICAvLyDsnbTrr7ggLmFlaWEvLmFlaXcg7ZmV7J6l7J6Q6rCAIO2PrO2VqOuQnCDqsr3smrAg6re464yA66GcIOyCrOyaqVxuICAgICAgICAgIGltYWdlVXJsID0gY29udGVudElkLnN0YXJ0c1dpdGgoXCIvXCIpID8gY29udGVudElkIDogYC8ke2NvbnRlbnRJZH1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNvbnRlbnRJZOqwgCDtjIzsnbzrqoXrp4wg7J6I64qUIOqyveyasCDtmZXsnqXsnpAg7LaU6rCAXG4gICAgICAgICAgY29uc3QgaGFzRXh0ZW5zaW9uID0gY29udGVudElkLmluY2x1ZGVzKFwiLlwiKTtcbiAgICAgICAgICBpZiAoaGFzRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICBpbWFnZVVybCA9IGNvbnRlbnRJZC5zdGFydHNXaXRoKFwiL1wiKSA/IGNvbnRlbnRJZCA6IGAvJHtjb250ZW50SWR9YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g7ZmV7J6l7J6Q6rCAIOyXhuycvOuptCAuYWVpdyDstpTqsIAgKOq4sOuzuOqwkilcbiAgICAgICAgICAgIGltYWdlVXJsID0gYC8ke2NvbnRlbnRJZH0uYWVpd2A7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coYPCflI0g7JWU7Zi47ZmUIOydtOuvuOyngCDroZzrk5wg7Iuc64+EOmAsIHtcbiAgICAgICAgICBjb250ZW50SWQsXG4gICAgICAgICAgYmFzZVVybCxcbiAgICAgICAgICBpbWFnZVVybCxcbiAgICAgICAgICB1c2VDYWNoZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGJsb2I6IEJsb2IgfCBudWxsID0gbnVsbDtcblxuICAgICAgICAvLyDsupDsi5zsl5DshJwg66i87KCAIOyLnOuPhFxuICAgICAgICBpZiAodXNlQ2FjaGUpIHtcbiAgICAgICAgICBibG9iID0gYXdhaXQgZ2V0RW5jcnlwdGVkSW1hZ2UoaW1hZ2VVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g7LqQ7Iuc7JeQIOyXhuycvOuptCDrhKTtirjsm4ztgazsl5DshJwg6rCA7KC47Jik6riwXG4gICAgICAgIGlmICghYmxvYikge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goaW1hZ2VVcmwsIHtcbiAgICAgICAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBg7JWU7Zi47ZmU65CcIOydtOuvuOyngCDroZzrk5wg7Iuk7YyoOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcblxuICAgICAgICAgIC8vIOy6kOyLnOyXkCDsoIDsnqVcbiAgICAgICAgICBpZiAodXNlQ2FjaGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHB1dEVuY3J5cHRlZEltYWdlKGltYWdlVXJsLCBibG9iKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcblxuICAgICAgICAvLyDslZTtmLjtmZTrkJwg7J2066+47KeAIOyymOumrFxuICAgICAgICBhd2FpdCBwcm9jZXNzRW5jcnlwdGVkSW1hZ2UoYmxvYik7XG5cbiAgICAgICAgaWYgKG1vdW50ZWQpIHtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICBvbkxvYWQ/LigpO1xuXG4gICAgICAgICAgLy8g67O17Zi47ZmUIOyEseqztSDrqZTsi5zsp4Ag7LaU6rCAXG4gICAgICAgICAgaWYgKGNvbnRlbnRJZC5pbmNsdWRlcyhcImVuY3J5cHRlZC1kZW1vXCIpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCfjokg7JWU7Zi47ZmU65CcIOuNsOuqqCDsnbTrr7jsp4Ag67O17Zi47ZmUIOyZhOujjCFcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgXCLwn5OKIOu4jOudvOyasOyggCDqsJzrsJzsnpAg64+E6rWs7JeQ7IScIOuzte2YuO2ZlCDqs7zsoJXsnYQg7ZmV7J247ZWgIOyImCDsnojsirXri4jri6QuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKG1vdW50ZWQgJiYgIWFib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yICYmIGVyci5uYW1lID09PSAnQWJvcnRFcnJvcicgXG4gICAgICAgICAgICA/IFwi7JqU7LKt7J20IOy3qOyGjOuQmOyXiOyKteuLiOuLpFwiXG4gICAgICAgICAgICA6IGVyciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgICAgICAgID8gZXJyLm1lc3NhZ2VcbiAgICAgICAgICAgICAgOiBcIuyVlO2YuO2ZlOuQnCDsnbTrr7jsp4Ag66Gc65OcIOykkSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLlwiO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUud2Fybign4p2MIEVuY3J5cHRlZEltYWdlIOuhnOuTnCDsi6TtjKg6JywgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFib3J0RXJyb3LqsIAg7JWE64uMIOqyveyasOunjCDsg4HsnITroZwg7JeQ65+sIOyghO2MjFxuICAgICAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIEVycm9yICYmIGVyci5uYW1lID09PSAnQWJvcnRFcnJvcicpKSB7XG4gICAgICAgICAgICBvbkVycm9yPy4oZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHByb2Nlc3NpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBwcm9jZXNzRW5jcnlwdGVkSW1hZ2UgPSBhc3luYyAoYmxvYjogQmxvYikgPT4ge1xuICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuXG4gICAgICAvLyBCbG9i7J2EIEFycmF5QnVmZmVy66GcIOuzgO2ZmFxuICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7XG4gICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcblxuICAgICAgLy8g7YyM7J28IO2MjOyLsSAo7YyM7J2866qFIOyghOuLrClcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlQWUoYnl0ZXMsIGNvbnRlbnRJZCk7XG5cbiAgICAgIC8vIO2XpOuTnCDrtoDrtoQg67O17Zi47ZmUICgxTUIpXG4gICAgICBjb25zdCBkZWNyeXB0ZWRIZWFkID0gYXdhaXQgZGVjcnlwdEhlYWRBRVNHQ00oXG4gICAgICAgIGFlc0tleSxcbiAgICAgICAgcGFyc2VkLml2LFxuICAgICAgICBwYXJzZWQuY2lwaGVyLFxuICAgICAgICBwYXJzZWQudGFnXG4gICAgICApO1xuXG4gICAgICAvLyDrs7XtmLjtmZTrkJwg7Zek65OcICsgdGFpbCDsnqzsobDrpr1cbiAgICAgIGNvbnN0IGZ1bGxJbWFnZSA9IG5ldyBVaW50OEFycmF5KFxuICAgICAgICBkZWNyeXB0ZWRIZWFkLmxlbmd0aCArIHBhcnNlZC50YWlsLmxlbmd0aFxuICAgICAgKTtcbiAgICAgIGZ1bGxJbWFnZS5zZXQoZGVjcnlwdGVkSGVhZCwgMCk7XG4gICAgICBmdWxsSW1hZ2Uuc2V0KHBhcnNlZC50YWlsLCBkZWNyeXB0ZWRIZWFkLmxlbmd0aCk7XG5cbiAgICAgIC8vIENhbnZhc+yXkCDroIzrjZTrp4EgKOqwnOyEoOuQnCDrsKnsi50pXG4gICAgICBhd2FpdCByZW5kZXJUb0NhbnZhcyhjYW52YXMsIGZ1bGxJbWFnZSwgcGFyc2VkLmZvcm1hdCk7XG4gICAgfTtcblxuICAgIC8vIOyVveqwhOydmCDrlJTrsJTsmrTsi7Hqs7wg7LSI6riwIOyDge2DnCDshKTsoJVcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKFwiXCIpO1xuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQobG9hZEltYWdlLCAxMDApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG1vdW50ZWQgPSBmYWxzZTtcbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICBwcm9jZXNzaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn6e5IEVuY3J5cHRlZEltYWdlIO2BtOumsOyXhSDsmYTro4wnKTtcbiAgICB9O1xuICB9LCBbY29udGVudElkLCBiYXNlVXJsLCBhZXNLZXksIHVzZUNhY2hlLCBvbkxvYWQsIG9uRXJyb3JdKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNTAwICR7Y2xhc3NOYW1lfWB9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc21cIj57ZXJyb3J9PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgJHtjbGFzc05hbWV9YH1cbiAgICAgIHN0eWxlPXt7XG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7bG9hZGluZyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmF5LTEwMCByb3VuZGVkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItYmx1ZS02MDBcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgPGNhbnZhc1xuICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICBkaXNwbGF5OiBsb2FkaW5nID8gXCJub25lXCIgOiBcImJsb2NrXCIsXG4gICAgICAgICAgbWF4V2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgIG1heEhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgd2lkdGg6IFwiYXV0b1wiLFxuICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgb2JqZWN0Rml0OiBcImNvbnRhaW5cIixcbiAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXG4gICAgICAgIH19XG4gICAgICAgIGFyaWEtbGFiZWw9e2FsdH1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJwYXJzZUFlIiwiZGVjcnlwdEhlYWRBRVNHQ00iLCJyZW5kZXJUb0NhbnZhcyIsImdldEVuY3J5cHRlZEltYWdlIiwicHV0RW5jcnlwdGVkSW1hZ2UiLCJFbmNyeXB0ZWRJbWFnZSIsImNvbnRlbnRJZCIsImJhc2VVcmwiLCJhZXNLZXkiLCJjbGFzc05hbWUiLCJhbHQiLCJvbkxvYWQiLCJvbkVycm9yIiwidXNlQ2FjaGUiLCJjYW52YXNSZWYiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJtb3VudGVkIiwiYWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwicHJvY2Vzc2luZ1JlZiIsImN1cnJlbnQiLCJsb2FkSW1hZ2UiLCJjb25zb2xlIiwibG9nIiwiYWJvcnQiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0Iiwid2lkdGgiLCJoZWlnaHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlUmVjdCIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsImltYWdlVXJsIiwiaW5jbHVkZXMiLCJzdGFydHNXaXRoIiwiaGFzRXh0ZW5zaW9uIiwiYmxvYiIsInJlc3BvbnNlIiwiZmV0Y2giLCJzaWduYWwiLCJvayIsIkVycm9yIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsInByb2Nlc3NFbmNyeXB0ZWRJbWFnZSIsImVyciIsImFib3J0ZWQiLCJlcnJvck1lc3NhZ2UiLCJuYW1lIiwibWVzc2FnZSIsIndhcm4iLCJhcnJheUJ1ZmZlciIsImJ5dGVzIiwiVWludDhBcnJheSIsInBhcnNlZCIsImRlY3J5cHRlZEhlYWQiLCJpdiIsImNpcGhlciIsInRhZyIsImZ1bGxJbWFnZSIsImxlbmd0aCIsInRhaWwiLCJzZXQiLCJmb3JtYXQiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiZGl2Iiwic3BhbiIsInN0eWxlIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsInJlZiIsIm1heFdpZHRoIiwibWF4SGVpZ2h0Iiwib2JqZWN0Rml0IiwiYm9yZGVyUmFkaXVzIiwiYXJpYS1sYWJlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/EncryptedImage.tsx\n"));

/***/ })

});