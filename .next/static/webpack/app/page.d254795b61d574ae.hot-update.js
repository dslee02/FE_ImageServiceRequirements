"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/EncryptedImage.tsx":
/*!***************************************!*\
  !*** ./components/EncryptedImage.tsx ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EncryptedImage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_crypto_parse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/crypto/parse */ \"(app-pages-browser)/./lib/crypto/parse.ts\");\n/* harmony import */ var _lib_crypto_decrypt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/crypto/decrypt */ \"(app-pages-browser)/./lib/crypto/decrypt.ts\");\n/* harmony import */ var _lib_image_render__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/image/render */ \"(app-pages-browser)/./lib/image/render.ts\");\n/* harmony import */ var _lib_cache_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/cache/store */ \"(app-pages-browser)/./lib/cache/store.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction EncryptedImage(param) {\n    let { contentId, baseUrl, aesKey, className = \"\", alt = \"\", onLoad, onError, useCache = true } = param;\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"EncryptedImage.useEffect\": ()=>{\n            let mounted = true;\n            let abortController = new AbortController();\n            let processingRef = {\n                current: false\n            };\n            const loadImage = {\n                \"EncryptedImage.useEffect.loadImage\": async ()=>{\n                    if (!canvasRef.current) return;\n                    // 이전 처리 중인 작업이 있다면 취소하고 새로 시작\n                    if (processingRef.current) {\n                        console.log('🔄 이전 작업 취소 후 새 작업 시작');\n                        abortController.abort();\n                        abortController = new AbortController();\n                    }\n                    processingRef.current = true;\n                    try {\n                        setLoading(true);\n                        setError(\"\");\n                        // Demo: 암호화 이미지가 없는 경우 플레이스홀더 표시\n                        if (contentId === \"sample\" || contentId === \"placeholder\") {\n                            // Canvas에 플레이스홀더 텍스트 렌더링\n                            const canvas = canvasRef.current;\n                            if (canvas) {\n                                const ctx = canvas.getContext(\"2d\");\n                                if (ctx) {\n                                    canvas.width = 500;\n                                    canvas.height = 350;\n                                    // 배경\n                                    ctx.fillStyle = \"#f9fafd\";\n                                    ctx.fillRect(0, 0, canvas.width, canvas.height);\n                                    // 테두리\n                                    ctx.strokeStyle = \"#e5e7eb\";\n                                    ctx.lineWidth = 2;\n                                    ctx.strokeRect(1, 1, canvas.width - 2, canvas.height - 2);\n                                    // 제목\n                                    ctx.fillStyle = \"#1f2937\";\n                                    ctx.font = \"bold 20px system-ui, -apple-system, sans-serif\";\n                                    ctx.textAlign = \"center\";\n                                    ctx.textBaseline = \"middle\";\n                                    ctx.fillText(\"🔒 AES-GCM-256 암호화 이미지\", canvas.width / 2, canvas.height / 2 - 50);\n                                    // 설명\n                                    ctx.fillStyle = \"#6b7280\";\n                                    ctx.font = \"14px system-ui, -apple-system, sans-serif\";\n                                    ctx.fillText(\"Canvas API + 복호화 렌더링 시뮬레이션\", canvas.width / 2, canvas.height / 2 - 10);\n                                    ctx.fillText(\"(데모용 - 실제 암호화 파일 없음)\", canvas.width / 2, canvas.height / 2 + 15);\n                                    // 안내문\n                                    ctx.fillStyle = \"#059669\";\n                                    ctx.font = \"bold 12px system-ui, -apple-system, sans-serif\";\n                                    ctx.fillText('💡 실제 암호화된 파일을 보려면 \"encrypted-demo.aeiw\"를 선택하세요', canvas.width / 2, canvas.height / 2 + 45);\n                                }\n                            }\n                            if (mounted) {\n                                setLoading(false);\n                                onLoad === null || onLoad === void 0 ? void 0 : onLoad();\n                            }\n                            return;\n                        }\n                        // contentId가 실제 암호화 파일인지 확인 (간단한 체크)\n                        let imageUrl;\n                        if (contentId.includes(\"aeia\") || contentId.includes(\"aeiw\")) {\n                            // 이미 .aeia/.aeiw 확장자가 포함된 경우 그대로 사용\n                            imageUrl = contentId.startsWith(\"/\") ? contentId : \"/\".concat(contentId);\n                        } else {\n                            // contentId가 파일명만 있는 경우 확장자 추가\n                            const hasExtension = contentId.includes(\".\");\n                            if (hasExtension) {\n                                imageUrl = contentId.startsWith(\"/\") ? contentId : \"/\".concat(contentId);\n                            } else {\n                                // 확장자가 없으면 .aeiw 추가 (기본값)\n                                imageUrl = \"/\".concat(contentId, \".aeiw\");\n                            }\n                        }\n                        console.log(\"\\uD83D\\uDD0D 암호화 이미지 로드 시도:\", {\n                            contentId,\n                            baseUrl,\n                            imageUrl,\n                            useCache\n                        });\n                        let blob = null;\n                        // 캐시에서 먼저 시도 (개발 모드에서는 캐시 무력화)\n                        const isDev = \"development\" === 'development';\n                        if (useCache && !isDev) {\n                            blob = await (0,_lib_cache_store__WEBPACK_IMPORTED_MODULE_5__.getEncryptedImage)(imageUrl);\n                            if (blob) {\n                                console.log('📦 캐시에서 이미지 로드:', imageUrl);\n                            }\n                        } else if (isDev) {\n                            console.log('🔄 개발 모드: 캐시 무시하고 새로 로드');\n                        }\n                        // 캐시에 없으면 네트워크에서 가져오기\n                        if (!blob) {\n                            const response = await fetch(imageUrl, {\n                                signal: abortController.signal\n                            });\n                            if (!response.ok) {\n                                throw new Error(\"암호화된 이미지 로드 실패: \".concat(response.status, \" \").concat(response.statusText));\n                            }\n                            blob = await response.blob();\n                            // 캐시에 저장 (개발 모드에서는 저장하지 않음)\n                            if (useCache && !isDev) {\n                                await (0,_lib_cache_store__WEBPACK_IMPORTED_MODULE_5__.putEncryptedImage)(imageUrl, blob);\n                                console.log('💾 캐시에 이미지 저장:', imageUrl);\n                            } else if (isDev) {\n                                console.log('🚫 개발 모드: 캐시에 저장하지 않음');\n                            }\n                        }\n                        if (!mounted) return;\n                        // 암호화된 이미지 처리\n                        await processEncryptedImage(blob);\n                        if (mounted) {\n                            setLoading(false);\n                            onLoad === null || onLoad === void 0 ? void 0 : onLoad();\n                            // 복호화 성공 메시지 추가\n                            if (contentId.includes(\"encrypted-demo\")) {\n                                console.log(\"🎉 암호화된 데모 이미지 복호화 완료!\");\n                                console.log(\"📊 브라우저 개발자 도구에서 복호화 과정을 확인할 수 있습니다.\");\n                            }\n                        }\n                    } catch (err) {\n                        if (mounted && !abortController.signal.aborted) {\n                            const errorMessage = err instanceof Error && err.name === 'AbortError' ? \"요청이 취소되었습니다\" : err instanceof Error ? err.message : \"암호화된 이미지 로드 중 오류가 발생했습니다.\";\n                            console.warn('❌ EncryptedImage 로드 실패:', errorMessage);\n                            setError(errorMessage);\n                            setLoading(false);\n                            // AbortError가 아닌 경우만 상위로 에러 전파\n                            if (!(err instanceof Error && err.name === 'AbortError')) {\n                                onError === null || onError === void 0 ? void 0 : onError(errorMessage);\n                            }\n                        }\n                    } finally{\n                        processingRef.current = false;\n                    }\n                }\n            }[\"EncryptedImage.useEffect.loadImage\"];\n            const processEncryptedImage = {\n                \"EncryptedImage.useEffect.processEncryptedImage\": async (blob)=>{\n                    const canvas = canvasRef.current;\n                    if (!canvas) return;\n                    // Blob을 ArrayBuffer로 변환\n                    const arrayBuffer = await blob.arrayBuffer();\n                    const bytes = new Uint8Array(arrayBuffer);\n                    // 파일 파싱 (파일명 전달)\n                    const parsed = (0,_lib_crypto_parse__WEBPACK_IMPORTED_MODULE_2__.parseAe)(bytes, contentId);\n                    // 헤드 부분 복호화 (1MB)\n                    const decryptedHead = await (0,_lib_crypto_decrypt__WEBPACK_IMPORTED_MODULE_3__.decryptHeadAESGCM)(aesKey, parsed.iv, parsed.cipher, parsed.tag);\n                    // 복호화된 헤드 + tail 재조립\n                    const fullImage = new Uint8Array(decryptedHead.length + parsed.tail.length);\n                    fullImage.set(decryptedHead, 0);\n                    fullImage.set(parsed.tail, decryptedHead.length);\n                    // Canvas에 렌더링 (개선된 방식)\n                    await (0,_lib_image_render__WEBPACK_IMPORTED_MODULE_4__.renderToCanvas)(canvas, fullImage, parsed.format);\n                }\n            }[\"EncryptedImage.useEffect.processEncryptedImage\"];\n            // 약간의 디바운싱과 초기 상태 설정\n            setLoading(true);\n            setError(\"\");\n            const timeoutId = setTimeout(loadImage, 100);\n            return ({\n                \"EncryptedImage.useEffect\": ()=>{\n                    mounted = false;\n                    abortController.abort();\n                    clearTimeout(timeoutId);\n                    processingRef.current = false;\n                    console.log('🧹 EncryptedImage 클린업 완료');\n                }\n            })[\"EncryptedImage.useEffect\"];\n        }\n    }[\"EncryptedImage.useEffect\"], [\n        contentId,\n        baseUrl,\n        aesKey,\n        useCache,\n        onLoad,\n        onError\n    ]);\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center bg-gray-200 text-gray-500 \".concat(className),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-sm\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/dasollee/Downloads/GitAladin/FE_ImageServiceRequirements/components/EncryptedImage.tsx\",\n                lineNumber: 264,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/dasollee/Downloads/GitAladin/FE_ImageServiceRequirements/components/EncryptedImage.tsx\",\n            lineNumber: 261,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative \".concat(className),\n        style: {\n            width: \"100%\",\n            height: \"100%\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\"\n        },\n        children: [\n            loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center bg-gray-100 rounded\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n                }, void 0, false, {\n                    fileName: \"/Users/dasollee/Downloads/GitAladin/FE_ImageServiceRequirements/components/EncryptedImage.tsx\",\n                    lineNumber: 282,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/dasollee/Downloads/GitAladin/FE_ImageServiceRequirements/components/EncryptedImage.tsx\",\n                lineNumber: 281,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                ref: canvasRef,\n                style: {\n                    display: loading ? \"none\" : \"block\",\n                    maxWidth: \"100%\",\n                    maxHeight: \"100%\",\n                    width: \"auto\",\n                    height: \"auto\",\n                    objectFit: \"contain\",\n                    borderRadius: \"8px\"\n                },\n                \"aria-label\": alt\n            }, void 0, false, {\n                fileName: \"/Users/dasollee/Downloads/GitAladin/FE_ImageServiceRequirements/components/EncryptedImage.tsx\",\n                lineNumber: 285,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/dasollee/Downloads/GitAladin/FE_ImageServiceRequirements/components/EncryptedImage.tsx\",\n        lineNumber: 270,\n        columnNumber: 5\n    }, this);\n}\n_s(EncryptedImage, \"LEvUgE/Url3PQlIGmraHow/VGAM=\");\n_c = EncryptedImage;\nvar _c;\n$RefreshReg$(_c, \"EncryptedImage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvRW5jcnlwdGVkSW1hZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFb0Q7QUFDUDtBQUNZO0FBQ0w7QUFDcUI7QUFhMUQsU0FBU1EsZUFBZSxLQVNqQjtRQVRpQixFQUNyQ0MsU0FBUyxFQUNUQyxPQUFPLEVBQ1BDLE1BQU0sRUFDTkMsWUFBWSxFQUFFLEVBQ2RDLE1BQU0sRUFBRSxFQUNSQyxNQUFNLEVBQ05DLE9BQU8sRUFDUEMsV0FBVyxJQUFJLEVBQ0ssR0FUaUI7O0lBVXJDLE1BQU1DLFlBQVloQiw2Q0FBTUEsQ0FBb0I7SUFDNUMsTUFBTSxDQUFDaUIsU0FBU0MsV0FBVyxHQUFHakIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDa0IsT0FBT0MsU0FBUyxHQUFHbkIsK0NBQVFBLENBQVM7SUFFM0NGLGdEQUFTQTtvQ0FBQztZQUNSLElBQUlzQixVQUFVO1lBQ2QsSUFBSUMsa0JBQWtCLElBQUlDO1lBQzFCLElBQUlDLGdCQUFnQjtnQkFBRUMsU0FBUztZQUFNO1lBRXJDLE1BQU1DO3NEQUFZO29CQUNoQixJQUFJLENBQUNWLFVBQVVTLE9BQU8sRUFBRTtvQkFFeEIsOEJBQThCO29CQUM5QixJQUFJRCxjQUFjQyxPQUFPLEVBQUU7d0JBQ3pCRSxRQUFRQyxHQUFHLENBQUM7d0JBQ1pOLGdCQUFnQk8sS0FBSzt3QkFDckJQLGtCQUFrQixJQUFJQztvQkFDeEI7b0JBRUFDLGNBQWNDLE9BQU8sR0FBRztvQkFFeEIsSUFBSTt3QkFDRlAsV0FBVzt3QkFDWEUsU0FBUzt3QkFFVCxpQ0FBaUM7d0JBQ2pDLElBQUlaLGNBQWMsWUFBWUEsY0FBYyxlQUFlOzRCQUN6RCx5QkFBeUI7NEJBQ3pCLE1BQU1zQixTQUFTZCxVQUFVUyxPQUFPOzRCQUNoQyxJQUFJSyxRQUFRO2dDQUNWLE1BQU1DLE1BQU1ELE9BQU9FLFVBQVUsQ0FBQztnQ0FDOUIsSUFBSUQsS0FBSztvQ0FDUEQsT0FBT0csS0FBSyxHQUFHO29DQUNmSCxPQUFPSSxNQUFNLEdBQUc7b0NBRWhCLEtBQUs7b0NBQ0xILElBQUlJLFNBQVMsR0FBRztvQ0FDaEJKLElBQUlLLFFBQVEsQ0FBQyxHQUFHLEdBQUdOLE9BQU9HLEtBQUssRUFBRUgsT0FBT0ksTUFBTTtvQ0FFOUMsTUFBTTtvQ0FDTkgsSUFBSU0sV0FBVyxHQUFHO29DQUNsQk4sSUFBSU8sU0FBUyxHQUFHO29DQUNoQlAsSUFBSVEsVUFBVSxDQUFDLEdBQUcsR0FBR1QsT0FBT0csS0FBSyxHQUFHLEdBQUdILE9BQU9JLE1BQU0sR0FBRztvQ0FFdkQsS0FBSztvQ0FDTEgsSUFBSUksU0FBUyxHQUFHO29DQUNoQkosSUFBSVMsSUFBSSxHQUFHO29DQUNYVCxJQUFJVSxTQUFTLEdBQUc7b0NBQ2hCVixJQUFJVyxZQUFZLEdBQUc7b0NBQ25CWCxJQUFJWSxRQUFRLENBQ1YsMEJBQ0FiLE9BQU9HLEtBQUssR0FBRyxHQUNmSCxPQUFPSSxNQUFNLEdBQUcsSUFBSTtvQ0FHdEIsS0FBSztvQ0FDTEgsSUFBSUksU0FBUyxHQUFHO29DQUNoQkosSUFBSVMsSUFBSSxHQUFHO29DQUNYVCxJQUFJWSxRQUFRLENBQ1YsOEJBQ0FiLE9BQU9HLEtBQUssR0FBRyxHQUNmSCxPQUFPSSxNQUFNLEdBQUcsSUFBSTtvQ0FFdEJILElBQUlZLFFBQVEsQ0FDVix3QkFDQWIsT0FBT0csS0FBSyxHQUFHLEdBQ2ZILE9BQU9JLE1BQU0sR0FBRyxJQUFJO29DQUd0QixNQUFNO29DQUNOSCxJQUFJSSxTQUFTLEdBQUc7b0NBQ2hCSixJQUFJUyxJQUFJLEdBQUc7b0NBQ1hULElBQUlZLFFBQVEsQ0FDVixtREFDQWIsT0FBT0csS0FBSyxHQUFHLEdBQ2ZILE9BQU9JLE1BQU0sR0FBRyxJQUFJO2dDQUV4Qjs0QkFDRjs0QkFFQSxJQUFJYixTQUFTO2dDQUNYSCxXQUFXO2dDQUNYTCxtQkFBQUEsNkJBQUFBOzRCQUNGOzRCQUNBO3dCQUNGO3dCQUVBLHFDQUFxQzt3QkFDckMsSUFBSStCO3dCQUNKLElBQUlwQyxVQUFVcUMsUUFBUSxDQUFDLFdBQVdyQyxVQUFVcUMsUUFBUSxDQUFDLFNBQVM7NEJBQzVELG9DQUFvQzs0QkFDcENELFdBQVdwQyxVQUFVc0MsVUFBVSxDQUFDLE9BQU90QyxZQUFZLElBQWMsT0FBVkE7d0JBQ3pELE9BQU87NEJBQ0wsK0JBQStCOzRCQUMvQixNQUFNdUMsZUFBZXZDLFVBQVVxQyxRQUFRLENBQUM7NEJBQ3hDLElBQUlFLGNBQWM7Z0NBQ2hCSCxXQUFXcEMsVUFBVXNDLFVBQVUsQ0FBQyxPQUFPdEMsWUFBWSxJQUFjLE9BQVZBOzRCQUN6RCxPQUFPO2dDQUNMLDBCQUEwQjtnQ0FDMUJvQyxXQUFXLElBQWMsT0FBVnBDLFdBQVU7NEJBQzNCO3dCQUNGO3dCQUVBbUIsUUFBUUMsR0FBRyxDQUFFLCtCQUFvQjs0QkFDL0JwQjs0QkFDQUM7NEJBQ0FtQzs0QkFDQTdCO3dCQUNGO3dCQUVBLElBQUlpQyxPQUFvQjt3QkFFeEIsK0JBQStCO3dCQUMvQixNQUFNQyxRQUFRQyxrQkFBeUI7d0JBQ3ZDLElBQUluQyxZQUFZLENBQUNrQyxPQUFPOzRCQUN0QkQsT0FBTyxNQUFNM0MsbUVBQWlCQSxDQUFDdUM7NEJBQy9CLElBQUlJLE1BQU07Z0NBQ1JyQixRQUFRQyxHQUFHLENBQUMsbUJBQW1CZ0I7NEJBQ2pDO3dCQUNGLE9BQU8sSUFBSUssT0FBTzs0QkFDaEJ0QixRQUFRQyxHQUFHLENBQUM7d0JBQ2Q7d0JBRUEsc0JBQXNCO3dCQUN0QixJQUFJLENBQUNvQixNQUFNOzRCQUNULE1BQU1HLFdBQVcsTUFBTUMsTUFBTVIsVUFBVTtnQ0FDckNTLFFBQVEvQixnQkFBZ0IrQixNQUFNOzRCQUNoQzs0QkFFQSxJQUFJLENBQUNGLFNBQVNHLEVBQUUsRUFBRTtnQ0FDaEIsTUFBTSxJQUFJQyxNQUNSLG1CQUFzQ0osT0FBbkJBLFNBQVNLLE1BQU0sRUFBQyxLQUF1QixPQUFwQkwsU0FBU00sVUFBVTs0QkFFN0Q7NEJBRUFULE9BQU8sTUFBTUcsU0FBU0gsSUFBSTs0QkFFMUIsNEJBQTRCOzRCQUM1QixJQUFJakMsWUFBWSxDQUFDa0MsT0FBTztnQ0FDdEIsTUFBTTNDLG1FQUFpQkEsQ0FBQ3NDLFVBQVVJO2dDQUNsQ3JCLFFBQVFDLEdBQUcsQ0FBQyxrQkFBa0JnQjs0QkFDaEMsT0FBTyxJQUFJSyxPQUFPO2dDQUNoQnRCLFFBQVFDLEdBQUcsQ0FBQzs0QkFDZDt3QkFDRjt3QkFFQSxJQUFJLENBQUNQLFNBQVM7d0JBRWQsY0FBYzt3QkFDZCxNQUFNcUMsc0JBQXNCVjt3QkFFNUIsSUFBSTNCLFNBQVM7NEJBQ1hILFdBQVc7NEJBQ1hMLG1CQUFBQSw2QkFBQUE7NEJBRUEsZ0JBQWdCOzRCQUNoQixJQUFJTCxVQUFVcUMsUUFBUSxDQUFDLG1CQUFtQjtnQ0FDeENsQixRQUFRQyxHQUFHLENBQUM7Z0NBQ1pELFFBQVFDLEdBQUcsQ0FDVDs0QkFFSjt3QkFDRjtvQkFDRixFQUFFLE9BQU8rQixLQUFLO3dCQUNaLElBQUl0QyxXQUFXLENBQUNDLGdCQUFnQitCLE1BQU0sQ0FBQ08sT0FBTyxFQUFFOzRCQUM5QyxNQUFNQyxlQUFlRixlQUFlSixTQUFTSSxJQUFJRyxJQUFJLEtBQUssZUFDdEQsZ0JBQ0FILGVBQWVKLFFBQ2JJLElBQUlJLE9BQU8sR0FDWDs0QkFFTnBDLFFBQVFxQyxJQUFJLENBQUMsMkJBQTJCSDs0QkFDeEN6QyxTQUFTeUM7NEJBQ1QzQyxXQUFXOzRCQUVYLCtCQUErQjs0QkFDL0IsSUFBSSxDQUFFeUMsQ0FBQUEsZUFBZUosU0FBU0ksSUFBSUcsSUFBSSxLQUFLLFlBQVcsR0FBSTtnQ0FDeERoRCxvQkFBQUEsOEJBQUFBLFFBQVUrQzs0QkFDWjt3QkFDRjtvQkFDRixTQUFVO3dCQUNSckMsY0FBY0MsT0FBTyxHQUFHO29CQUMxQjtnQkFDRjs7WUFFQSxNQUFNaUM7a0VBQXdCLE9BQU9WO29CQUNuQyxNQUFNbEIsU0FBU2QsVUFBVVMsT0FBTztvQkFDaEMsSUFBSSxDQUFDSyxRQUFRO29CQUViLHdCQUF3QjtvQkFDeEIsTUFBTW1DLGNBQWMsTUFBTWpCLEtBQUtpQixXQUFXO29CQUMxQyxNQUFNQyxRQUFRLElBQUlDLFdBQVdGO29CQUU3QixpQkFBaUI7b0JBQ2pCLE1BQU1HLFNBQVNsRSwwREFBT0EsQ0FBQ2dFLE9BQU8xRDtvQkFFOUIsa0JBQWtCO29CQUNsQixNQUFNNkQsZ0JBQWdCLE1BQU1sRSxzRUFBaUJBLENBQzNDTyxRQUNBMEQsT0FBT0UsRUFBRSxFQUNURixPQUFPRyxNQUFNLEVBQ2JILE9BQU9JLEdBQUc7b0JBR1oscUJBQXFCO29CQUNyQixNQUFNQyxZQUFZLElBQUlOLFdBQ3BCRSxjQUFjSyxNQUFNLEdBQUdOLE9BQU9PLElBQUksQ0FBQ0QsTUFBTTtvQkFFM0NELFVBQVVHLEdBQUcsQ0FBQ1AsZUFBZTtvQkFDN0JJLFVBQVVHLEdBQUcsQ0FBQ1IsT0FBT08sSUFBSSxFQUFFTixjQUFjSyxNQUFNO29CQUUvQyx1QkFBdUI7b0JBQ3ZCLE1BQU10RSxpRUFBY0EsQ0FBQzBCLFFBQVEyQyxXQUFXTCxPQUFPUyxNQUFNO2dCQUN2RDs7WUFFQSxxQkFBcUI7WUFDckIzRCxXQUFXO1lBQ1hFLFNBQVM7WUFDVCxNQUFNMEQsWUFBWUMsV0FBV3JELFdBQVc7WUFFeEM7NENBQU87b0JBQ0xMLFVBQVU7b0JBQ1ZDLGdCQUFnQk8sS0FBSztvQkFDckJtRCxhQUFhRjtvQkFDYnRELGNBQWNDLE9BQU8sR0FBRztvQkFDeEJFLFFBQVFDLEdBQUcsQ0FBQztnQkFDZDs7UUFDRjttQ0FBRztRQUFDcEI7UUFBV0M7UUFBU0M7UUFBUUs7UUFBVUY7UUFBUUM7S0FBUTtJQUUxRCxJQUFJSyxPQUFPO1FBQ1QscUJBQ0UsOERBQUM4RDtZQUNDdEUsV0FBVyw4REFBd0UsT0FBVkE7c0JBRXpFLDRFQUFDdUU7Z0JBQUt2RSxXQUFVOzBCQUFXUTs7Ozs7Ozs7Ozs7SUFHakM7SUFFQSxxQkFDRSw4REFBQzhEO1FBQ0N0RSxXQUFXLFlBQXNCLE9BQVZBO1FBQ3ZCd0UsT0FBTztZQUNMbEQsT0FBTztZQUNQQyxRQUFRO1lBQ1JrRCxTQUFTO1lBQ1RDLFlBQVk7WUFDWkMsZ0JBQWdCO1FBQ2xCOztZQUVDckUseUJBQ0MsOERBQUNnRTtnQkFBSXRFLFdBQVU7MEJBQ2IsNEVBQUNzRTtvQkFBSXRFLFdBQVU7Ozs7Ozs7Ozs7OzBCQUduQiw4REFBQ21CO2dCQUNDeUQsS0FBS3ZFO2dCQUNMbUUsT0FBTztvQkFDTEMsU0FBU25FLFVBQVUsU0FBUztvQkFDNUJ1RSxVQUFVO29CQUNWQyxXQUFXO29CQUNYeEQsT0FBTztvQkFDUEMsUUFBUTtvQkFDUndELFdBQVc7b0JBQ1hDLGNBQWM7Z0JBQ2hCO2dCQUNBQyxjQUFZaEY7Ozs7Ozs7Ozs7OztBQUlwQjtHQXhSd0JMO0tBQUFBIiwic291cmNlcyI6WyIvVXNlcnMvZGFzb2xsZWUvRG93bmxvYWRzL0dpdEFsYWRpbi9GRV9JbWFnZVNlcnZpY2VSZXF1aXJlbWVudHMvY29tcG9uZW50cy9FbmNyeXB0ZWRJbWFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgcGFyc2VBZSB9IGZyb20gXCJAL2xpYi9jcnlwdG8vcGFyc2VcIjtcbmltcG9ydCB7IGRlY3J5cHRIZWFkQUVTR0NNIH0gZnJvbSBcIkAvbGliL2NyeXB0by9kZWNyeXB0XCI7XG5pbXBvcnQgeyByZW5kZXJUb0NhbnZhcyB9IGZyb20gXCJAL2xpYi9pbWFnZS9yZW5kZXJcIjtcbmltcG9ydCB7IGdldEVuY3J5cHRlZEltYWdlLCBwdXRFbmNyeXB0ZWRJbWFnZSB9IGZyb20gXCJAL2xpYi9jYWNoZS9zdG9yZVwiO1xuXG5pbnRlcmZhY2UgRW5jcnlwdGVkSW1hZ2VQcm9wcyB7XG4gIGNvbnRlbnRJZDogc3RyaW5nO1xuICBiYXNlVXJsOiBzdHJpbmc7XG4gIGFlc0tleTogc3RyaW5nO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGFsdD86IHN0cmluZztcbiAgb25Mb2FkPzogKCkgPT4gdm9pZDtcbiAgb25FcnJvcj86IChlcnJvcjogc3RyaW5nKSA9PiB2b2lkO1xuICB1c2VDYWNoZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVuY3J5cHRlZEltYWdlKHtcbiAgY29udGVudElkLFxuICBiYXNlVXJsLFxuICBhZXNLZXksXG4gIGNsYXNzTmFtZSA9IFwiXCIsXG4gIGFsdCA9IFwiXCIsXG4gIG9uTG9hZCxcbiAgb25FcnJvcixcbiAgdXNlQ2FjaGUgPSB0cnVlLFxufTogRW5jcnlwdGVkSW1hZ2VQcm9wcykge1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWY8SFRNTENhbnZhc0VsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xuICAgIGxldCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgbGV0IHByb2Nlc3NpbmdSZWYgPSB7IGN1cnJlbnQ6IGZhbHNlIH07XG5cbiAgICBjb25zdCBsb2FkSW1hZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWNhbnZhc1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIOydtOyghCDsspjrpqwg7KSR7J24IOyekeyXheydtCDsnojri6TrqbQg7Leo7IaM7ZWY6rOgIOyDiOuhnCDsi5zsnpFcbiAgICAgIGlmIChwcm9jZXNzaW5nUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQg7J207KCEIOyekeyXhSDst6jshowg7ZuEIOyDiCDsnpHsl4Ug7Iuc7J6RJyk7XG4gICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHByb2Nlc3NpbmdSZWYuY3VycmVudCA9IHRydWU7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHNldEVycm9yKFwiXCIpO1xuXG4gICAgICAgIC8vIERlbW86IOyVlO2YuO2ZlCDsnbTrr7jsp4DqsIAg7JeG64qUIOqyveyasCDtlIzroIjsnbTsiqTtmYDrjZQg7ZGc7IucXG4gICAgICAgIGlmIChjb250ZW50SWQgPT09IFwic2FtcGxlXCIgfHwgY29udGVudElkID09PSBcInBsYWNlaG9sZGVyXCIpIHtcbiAgICAgICAgICAvLyBDYW52YXPsl5Ag7ZSM66CI7J207Iqk7ZmA642UIO2FjeyKpO2KuCDroIzrjZTrp4FcbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgaWYgKGN0eCkge1xuICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSA1MDA7XG4gICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSAzNTA7XG5cbiAgICAgICAgICAgICAgLy8g67Cw6rK9XG4gICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiNmOWZhZmRcIjtcbiAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgICAgICAgLy8g7YWM65GQ66asXG4gICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiI2U1ZTdlYlwiO1xuICAgICAgICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcbiAgICAgICAgICAgICAgY3R4LnN0cm9rZVJlY3QoMSwgMSwgY2FudmFzLndpZHRoIC0gMiwgY2FudmFzLmhlaWdodCAtIDIpO1xuXG4gICAgICAgICAgICAgIC8vIOygnOuqqVxuICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjMWYyOTM3XCI7XG4gICAgICAgICAgICAgIGN0eC5mb250ID0gXCJib2xkIDIwcHggc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBzYW5zLXNlcmlmXCI7XG4gICAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcbiAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KFxuICAgICAgICAgICAgICAgIFwi8J+UkiBBRVMtR0NNLTI1NiDslZTtmLjtmZQg7J2066+47KeAXCIsXG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoIC8gMixcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0IC8gMiAtIDUwXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgLy8g7ISk66qFXG4gICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiM2YjcyODBcIjtcbiAgICAgICAgICAgICAgY3R4LmZvbnQgPSBcIjE0cHggc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBzYW5zLXNlcmlmXCI7XG4gICAgICAgICAgICAgIGN0eC5maWxsVGV4dChcbiAgICAgICAgICAgICAgICBcIkNhbnZhcyBBUEkgKyDrs7XtmLjtmZQg66CM642U66eBIOyLnOuurOugiOydtOyFmFwiLFxuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCAvIDIgLSAxMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjdHguZmlsbFRleHQoXG4gICAgICAgICAgICAgICAgXCIo642w66qo7JqpIC0g7Iuk7KCcIOyVlO2YuO2ZlCDtjIzsnbwg7JeG7J2MKVwiLFxuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCAvIDIgKyAxNVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIC8vIOyViOuCtOusuFxuICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjMDU5NjY5XCI7XG4gICAgICAgICAgICAgIGN0eC5mb250ID0gXCJib2xkIDEycHggc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBzYW5zLXNlcmlmXCI7XG4gICAgICAgICAgICAgIGN0eC5maWxsVGV4dChcbiAgICAgICAgICAgICAgICAn8J+SoSDsi6TsoJwg7JWU7Zi47ZmU65CcIO2MjOydvOydhCDrs7TroKTrqbQgXCJlbmNyeXB0ZWQtZGVtby5hZWl3XCLrpbwg7ISg7YOd7ZWY7IS47JqUJyxcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgLyAyICsgNDVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobW91bnRlZCkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICBvbkxvYWQ/LigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb250ZW50SWTqsIAg7Iuk7KCcIOyVlO2YuO2ZlCDtjIzsnbzsnbjsp4Ag7ZmV7J24ICjqsITri6jtlZwg7LK07YGsKVxuICAgICAgICBsZXQgaW1hZ2VVcmw6IHN0cmluZztcbiAgICAgICAgaWYgKGNvbnRlbnRJZC5pbmNsdWRlcyhcImFlaWFcIikgfHwgY29udGVudElkLmluY2x1ZGVzKFwiYWVpd1wiKSkge1xuICAgICAgICAgIC8vIOydtOuvuCAuYWVpYS8uYWVpdyDtmZXsnqXsnpDqsIAg7Y+s7ZWo65CcIOqyveyasCDqt7jrjIDroZwg7IKs7JqpXG4gICAgICAgICAgaW1hZ2VVcmwgPSBjb250ZW50SWQuc3RhcnRzV2l0aChcIi9cIikgPyBjb250ZW50SWQgOiBgLyR7Y29udGVudElkfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY29udGVudElk6rCAIO2MjOydvOuqheunjCDsnojripQg6rK97JqwIO2ZleyepeyekCDstpTqsIBcbiAgICAgICAgICBjb25zdCBoYXNFeHRlbnNpb24gPSBjb250ZW50SWQuaW5jbHVkZXMoXCIuXCIpO1xuICAgICAgICAgIGlmIChoYXNFeHRlbnNpb24pIHtcbiAgICAgICAgICAgIGltYWdlVXJsID0gY29udGVudElkLnN0YXJ0c1dpdGgoXCIvXCIpID8gY29udGVudElkIDogYC8ke2NvbnRlbnRJZH1gO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyDtmZXsnqXsnpDqsIAg7JeG7Jy866m0IC5hZWl3IOy2lOqwgCAo6riw67O46rCSKVxuICAgICAgICAgICAgaW1hZ2VVcmwgPSBgLyR7Y29udGVudElkfS5hZWl3YDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhg8J+UjSDslZTtmLjtmZQg7J2066+47KeAIOuhnOuTnCDsi5zrj4Q6YCwge1xuICAgICAgICAgIGNvbnRlbnRJZCxcbiAgICAgICAgICBiYXNlVXJsLFxuICAgICAgICAgIGltYWdlVXJsLFxuICAgICAgICAgIHVzZUNhY2hlLFxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgYmxvYjogQmxvYiB8IG51bGwgPSBudWxsO1xuXG4gICAgICAgIC8vIOy6kOyLnOyXkOyEnCDrqLzsoIAg7Iuc64+EICjqsJzrsJwg66qo65Oc7JeQ7ISc64qUIOy6kOyLnCDrrLTroKXtmZQpXG4gICAgICAgIGNvbnN0IGlzRGV2ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCc7XG4gICAgICAgIGlmICh1c2VDYWNoZSAmJiAhaXNEZXYpIHtcbiAgICAgICAgICBibG9iID0gYXdhaXQgZ2V0RW5jcnlwdGVkSW1hZ2UoaW1hZ2VVcmwpO1xuICAgICAgICAgIGlmIChibG9iKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TpiDsupDsi5zsl5DshJwg7J2066+47KeAIOuhnOuTnDonLCBpbWFnZVVybCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzRGV2KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflIQg6rCc67CcIOuqqOuTnDog7LqQ7IucIOustOyLnO2VmOqzoCDsg4jroZwg66Gc65OcJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDsupDsi5zsl5Ag7JeG7Jy866m0IOuEpO2KuOybjO2BrOyXkOyEnCDqsIDsoLjsmKTquLBcbiAgICAgICAgaWYgKCFibG9iKSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChpbWFnZVVybCwge1xuICAgICAgICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGDslZTtmLjtmZTrkJwg7J2066+47KeAIOuhnOuTnCDsi6TtjKg6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuXG4gICAgICAgICAgLy8g7LqQ7Iuc7JeQIOyggOyepSAo6rCc67CcIOuqqOuTnOyXkOyEnOuKlCDsoIDsnqXtlZjsp4Ag7JWK7J2MKVxuICAgICAgICAgIGlmICh1c2VDYWNoZSAmJiAhaXNEZXYpIHtcbiAgICAgICAgICAgIGF3YWl0IHB1dEVuY3J5cHRlZEltYWdlKGltYWdlVXJsLCBibG9iKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IOy6kOyLnOyXkCDsnbTrr7jsp4Ag7KCA7J6lOicsIGltYWdlVXJsKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzRGV2KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+aqyDqsJzrsJwg66qo65OcOiDsupDsi5zsl5Ag7KCA7J6l7ZWY7KeAIOyViuydjCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIOyVlO2YuO2ZlOuQnCDsnbTrr7jsp4Ag7LKY66asXG4gICAgICAgIGF3YWl0IHByb2Nlc3NFbmNyeXB0ZWRJbWFnZShibG9iKTtcblxuICAgICAgICBpZiAobW91bnRlZCkge1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIG9uTG9hZD8uKCk7XG5cbiAgICAgICAgICAvLyDrs7XtmLjtmZQg7ISx6rO1IOuplOyLnOyngCDstpTqsIBcbiAgICAgICAgICBpZiAoY29udGVudElkLmluY2x1ZGVzKFwiZW5jcnlwdGVkLWRlbW9cIikpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+OiSDslZTtmLjtmZTrkJwg642w66qoIOydtOuvuOyngCDrs7XtmLjtmZQg7JmE66OMIVwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICBcIvCfk4og67iM65287Jqw7KCAIOqwnOuwnOyekCDrj4Tqtazsl5DshJwg67O17Zi47ZmUIOqzvOygleydhCDtmZXsnbjtlaAg7IiYIOyeiOyKteuLiOuLpC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAobW91bnRlZCAmJiAhYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyLm5hbWUgPT09ICdBYm9ydEVycm9yJyBcbiAgICAgICAgICAgID8gXCLsmpTssq3snbQg7Leo7IaM65CY7JeI7Iq164uI64ukXCJcbiAgICAgICAgICAgIDogZXJyIGluc3RhbmNlb2YgRXJyb3JcbiAgICAgICAgICAgICAgPyBlcnIubWVzc2FnZVxuICAgICAgICAgICAgICA6IFwi7JWU7Zi47ZmU65CcIOydtOuvuOyngCDroZzrk5wg7KSRIOyYpOulmOqwgCDrsJzsg53tlojsirXri4jri6QuXCI7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS53YXJuKCfinYwgRW5jcnlwdGVkSW1hZ2Ug66Gc65OcIOyLpO2MqDonLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWJvcnRFcnJvcuqwgCDslYTri4wg6rK97Jqw66eMIOyDgeychOuhnCDsl5Drn6wg7KCE7YyMXG4gICAgICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyLm5hbWUgPT09ICdBYm9ydEVycm9yJykpIHtcbiAgICAgICAgICAgIG9uRXJyb3I/LihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgcHJvY2Vzc2luZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHByb2Nlc3NFbmNyeXB0ZWRJbWFnZSA9IGFzeW5jIChibG9iOiBCbG9iKSA9PiB7XG4gICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgIGlmICghY2FudmFzKSByZXR1cm47XG5cbiAgICAgIC8vIEJsb2LsnYQgQXJyYXlCdWZmZXLroZwg67OA7ZmYXG4gICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKTtcbiAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xuXG4gICAgICAvLyDtjIzsnbwg7YyM7IuxICjtjIzsnbzrqoUg7KCE64usKVxuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VBZShieXRlcywgY29udGVudElkKTtcblxuICAgICAgLy8g7Zek65OcIOu2gOu2hCDrs7XtmLjtmZQgKDFNQilcbiAgICAgIGNvbnN0IGRlY3J5cHRlZEhlYWQgPSBhd2FpdCBkZWNyeXB0SGVhZEFFU0dDTShcbiAgICAgICAgYWVzS2V5LFxuICAgICAgICBwYXJzZWQuaXYsXG4gICAgICAgIHBhcnNlZC5jaXBoZXIsXG4gICAgICAgIHBhcnNlZC50YWdcbiAgICAgICk7XG5cbiAgICAgIC8vIOuzte2YuO2ZlOuQnCDtl6Trk5wgKyB0YWlsIOyerOyhsOumvVxuICAgICAgY29uc3QgZnVsbEltYWdlID0gbmV3IFVpbnQ4QXJyYXkoXG4gICAgICAgIGRlY3J5cHRlZEhlYWQubGVuZ3RoICsgcGFyc2VkLnRhaWwubGVuZ3RoXG4gICAgICApO1xuICAgICAgZnVsbEltYWdlLnNldChkZWNyeXB0ZWRIZWFkLCAwKTtcbiAgICAgIGZ1bGxJbWFnZS5zZXQocGFyc2VkLnRhaWwsIGRlY3J5cHRlZEhlYWQubGVuZ3RoKTtcblxuICAgICAgLy8gQ2FudmFz7JeQIOugjOuNlOungSAo6rCc7ISg65CcIOuwqeyLnSlcbiAgICAgIGF3YWl0IHJlbmRlclRvQ2FudmFzKGNhbnZhcywgZnVsbEltYWdlLCBwYXJzZWQuZm9ybWF0KTtcbiAgICB9O1xuXG4gICAgLy8g7JW96rCE7J2YIOuUlOuwlOyatOyLseqzvCDstIjquLAg7IOB7YOcIOyEpOyglVxuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IoXCJcIik7XG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dChsb2FkSW1hZ2UsIDEwMCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgbW91bnRlZCA9IGZhbHNlO1xuICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgIHByb2Nlc3NpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgY29uc29sZS5sb2coJ/Cfp7kgRW5jcnlwdGVkSW1hZ2Ug7YG066aw7JeFIOyZhOujjCcpO1xuICAgIH07XG4gIH0sIFtjb250ZW50SWQsIGJhc2VVcmwsIGFlc0tleSwgdXNlQ2FjaGUsIG9uTG9hZCwgb25FcnJvcl0pO1xuXG4gIGlmIChlcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYXktMjAwIHRleHQtZ3JheS01MDAgJHtjbGFzc05hbWV9YH1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbVwiPntlcnJvcn08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2ByZWxhdGl2ZSAke2NsYXNzTmFtZX1gfVxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtsb2FkaW5nICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYXktMTAwIHJvdW5kZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC04IHctOCBib3JkZXItYi0yIGJvcmRlci1ibHVlLTYwMFwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8Y2FudmFzXG4gICAgICAgIHJlZj17Y2FudmFzUmVmfVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IGxvYWRpbmcgPyBcIm5vbmVcIiA6IFwiYmxvY2tcIixcbiAgICAgICAgICBtYXhXaWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgbWF4SGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICB3aWR0aDogXCJhdXRvXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICBvYmplY3RGaXQ6IFwiY29udGFpblwiLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogXCI4cHhcIixcbiAgICAgICAgfX1cbiAgICAgICAgYXJpYS1sYWJlbD17YWx0fVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInBhcnNlQWUiLCJkZWNyeXB0SGVhZEFFU0dDTSIsInJlbmRlclRvQ2FudmFzIiwiZ2V0RW5jcnlwdGVkSW1hZ2UiLCJwdXRFbmNyeXB0ZWRJbWFnZSIsIkVuY3J5cHRlZEltYWdlIiwiY29udGVudElkIiwiYmFzZVVybCIsImFlc0tleSIsImNsYXNzTmFtZSIsImFsdCIsIm9uTG9hZCIsIm9uRXJyb3IiLCJ1c2VDYWNoZSIsImNhbnZhc1JlZiIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsIm1vdW50ZWQiLCJhYm9ydENvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJwcm9jZXNzaW5nUmVmIiwiY3VycmVudCIsImxvYWRJbWFnZSIsImNvbnNvbGUiLCJsb2ciLCJhYm9ydCIsImNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJ3aWR0aCIsImhlaWdodCIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2VSZWN0IiwiZm9udCIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwiaW1hZ2VVcmwiLCJpbmNsdWRlcyIsInN0YXJ0c1dpdGgiLCJoYXNFeHRlbnNpb24iLCJibG9iIiwiaXNEZXYiLCJwcm9jZXNzIiwicmVzcG9uc2UiLCJmZXRjaCIsInNpZ25hbCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwicHJvY2Vzc0VuY3J5cHRlZEltYWdlIiwiZXJyIiwiYWJvcnRlZCIsImVycm9yTWVzc2FnZSIsIm5hbWUiLCJtZXNzYWdlIiwid2FybiIsImFycmF5QnVmZmVyIiwiYnl0ZXMiLCJVaW50OEFycmF5IiwicGFyc2VkIiwiZGVjcnlwdGVkSGVhZCIsIml2IiwiY2lwaGVyIiwidGFnIiwiZnVsbEltYWdlIiwibGVuZ3RoIiwidGFpbCIsInNldCIsImZvcm1hdCIsInRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJkaXYiLCJzcGFuIiwic3R5bGUiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwicmVmIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJvYmplY3RGaXQiLCJib3JkZXJSYWRpdXMiLCJhcmlhLWxhYmVsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/EncryptedImage.tsx\n"));

/***/ })

});